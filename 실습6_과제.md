# IBM Blockchain Experience Day  
![intro.png](./doc_images/intro.png)  
  
# 실습6 : 과제

********


## 실습 목표
본 실습은 실제 비즈니스 케이스를 통하여 블록체인의 적용 가능성을 살펴보고 비즈니스 네트워크를 모델링하는 과정을 수행합니다. 제공되는 비즈니스 케이스를 분석하고 논리적인 모델을 직접 구상해 봅시다. 실제 코드는 Hyperledger Composer를 활용하여 생성된 블록체인 모델을 담당자가 보여 드릴 예정입니다.

### 사전 준비사항
없음

### 해야할 일
본 자료를 읽으면서 제공된 A4 용지의 빈칸을 채우세요.

***

# 비즈니스 케이스 소개

그린캡이라는 회사는 환경과 리스크 관리 비즈니스를 주로 영위하는 기업입니다.  

호주와 뉴질랜드 전역에 걸쳐 자산의 리스크 관리, 산업 안전 및 환경 등에 관련된 서비스를 제공합니다. 특히 환경 관련 비즈니스는 꾸준히 성장을 하고 있는데, 그 중 석면 오염에 관련된 서비스는 블루캡이 역점을 두고 있는 비즈니스입니다. ~~미세 먼지 해결 좀 제발~~  

석면(asbestos)은 환경과 건강 및 안전에 위해가 되는 주요 물질입니다. 그리고 이것은 건축 산업에도 영향을 미칩니다. 본 실습에서는 이러한 석면 오염 관련 정보를 산업의 이해관계자들이 블록체인 플랫폼내에서 공유한다면 어떤 이점이 있는지 생각해보고 이를 구현할 수 있는 비즈니스 네트워크를 구성해보도록 하겠습니다.

### 비즈니스 문제점

건설업에서 토지가 석면에 오염이 되었다면 여러가지 문제를 야기합니다.  
석면이 환경과 사람에 주는 위험한 특성 때문에 석면 오염에 관련된 정보는 관련된 모든 참여자들에게 정확하게 공유되어야 하고 건설업자는 그러한 정보를 바탕으로 석면을 제거하기 위한 활동을 해야합니다. 이에 관련된 정보는 석면 오염의 레벨과 현재의 상태, 과거의 검사 이력과 오염을 해소하기 위한 과거의 조치 등을 포함합니다.  

현재는 이러한 토지의 석면 오염관련 정보가 여러 조직들에 의해서 분산되어 관리되고 있습니다. 첫번째 문제는 이러한 정보들이 일관성있게 관리되지 못할 뿐더러 정보를 가지고 있는 주체들이 이를 자신들의 자산이라 여기기 때문에 투명한 공유가 어렵다는 것입니다.  

두번째 문제는 이러한 정보가 정보를 소유한 각 조직들에 의해 자율적으로 관리가 되다 보니 정보의 신뢰성과 최신성을 보장하기가 어렵습니다. 정보를 소유한 주체가 가지고 있는 정보가 부분 유실된 정보일 수도 있고 심지어 자신들의 이익을 위해 정보를 변조했는지 확인하기가 쉽지 않습니다.  

석면 오염에 대한 정보를 중앙의 기관에 등록해 관리하는 방안은 현재로서는 여러가지 어려움이 있습니다. 정보를 소유한 조직들이 이러한 정보를 건네주는데에 대한 실익이 충분하지 않은 것도 그 이유 중 하나입니다.


### 가능한 해결 방안

만약 정보를 소유한 주요 참여자들이 정부 규제기관 및 다른 관계된 조직들과 함께 컨소시움을 구성하여 안전하고 신뢰할 수 있는 저장공간에 석면 오염에 관련된 데이터를 공유할 수 있다면 이 문제의 해결 시도에 큰 진전이 있을 것입니다.  

이러한 데이터는 해킹과 조작의 위험에서 안전해야 하며 모든 참여자가 같은 데이터를 바라볼 수 있어야 합니다. 모든 데이터의 추가와 수정은 엄격한 규칙 속에서 행해져야 하고 모든 변경의 기록이 투명하게 보존되어야 합니다. 차후에 이러한 공간에서 소유한 데이터의 거래가 가능하다면 정보를 소유한 주체들에게 실익이 돌아갈 수도 있을 것입니다.

그린캡은 이런 문제를 블록체인에 기반한 솔루션으로 구현하는 것이 적당하다는 판단을 하였습니다.  
분산 장부가 중앙 기관의 데이터 독점을 막고 해킹과 조작에도 안전한 환경을 제공해주기 때문입니다. 솔루션은 산업의 다양한 참여자들이 네트워크에 참여할 수 있도록 해야합니다. 이러한 참여자들은 토지를 소유하고 있는 소유자 (Owner), 토지를 임대하는 임대자 (Tenant), 석면 오염도를 조사하는 검사 기관 (TestingLabServiceProvider), 규제기관 (IndustryRegulator), 보험사 (Insurer) 등을 포함합니다.  

블록체인 기반 솔루션은 자산인 토지 (Site)의 석면 오염 관련된 기록을 포괄적이고 안전하게 저장해야 합니다. 이러한 정보는 토지ID (siteId), 토지명 (siteName), 토지의 주소 (siteAddress), 오염상태 (contStatus), 오염의 레벨 (contLevel), 토지의 소유자 (owner), 토지의 임대자 (tenant)를 포함합니다. 또한 해당 토지의 소유권 이전 내역 및 임대 내역, 석면 검사 이력과 오염도는 물론 이를 조사한 검사기관의 내역, 조치 사항까지 기록이 된다면 더 신뢰할 수 있는 정보를 제공할 수 있을 것입니다.  

이러한 정보는 권한관리에 의해 엄격하게 접근이 관리되어야 하고, 특정 기관은 정보를 조회할 수 있는 권한만을 가져야 합니다. 예를 들어 국가와 연계하여 산업 재해를 보장하는 보험사의 경우에는 읽기 권한만이 주어지는 것이 적당합니다. 반대로 석면 오염상태를 검사하는 검사기관은 검사 결과에 따라 데이터를 추가할 수 있는 권한을 가져야합니다.


***

이제 여러분들은 이 문제를 해결하기 위하여 블록체인 솔루션을 디자인하려고 합니다.  
제공된 문서에 논리 모델을 디자인하십시오. 분석한 비즈니스에서 Asset, Participant, Transaction을 추출하는 것이 중요합니다. 본 실습에서는 1개의 Asset, 5개의 Participant, 3개의 Transaction으로 구성된 모델을 작성하는 것을 권장합니다.  

## Assets

교재에 서술된 '가능한 해결 방안' 부분으로 돌아가서 이 솔루션이 다루어야 하는 정보를 생각해 보십시오.  
Asset은 블록체인 네트워크에서 저장해야할 자산의 정보입니다. 여기에서는 토지 (Site)가 될 것입니다. 주어진 문제를 해결하기 위해 블록체인에 저장되어야 할 토지와 관련된 정보는 어떤것들이 있는지 생각하고 그러한 정보를 속성으로 명시합니다.  

필요한 자산을 생각하여 자산(Assets) 테이블을 완성하세요. 모든 속성들을 나열하려 하지 말고 중요하다고 판단되는 속성들만을 10개 미만으로 정의하도록 합니다.

**[Step 01]** 자산(Assets) 클래스를 정의하세요.

예시 : 이전 실습으로 돌아가 구슬(Marbles) 거래 애플리케이션은 다음과 같이 정의했었습니다.  

자산명 : Marbles
| No | 자산의 속성명 | 데이터형 | 설명 |
|:--------|:--------|:--------|:--------|
| 1| Id | string | 키 값으로 사용되는 유니크한 문자 |
| 2 | Color | string | 구슬의 css 색상 값 |
| 3 | Size | int | 구슬 크기 |
| 4 | Owner | Owner | 소유자명 |


## Participants

디자인하려는 블록체인 네트워크가 어떤 필수적인 참여자를 포함해야 하는지를 생각해보세요.  
다시 한번 교재에 서술된 '가능한 해결 방안' 부분을 참고하여 어떤 참여자가 본 시나리오에서 필요할지 생각해보고, 반드시 필요하다고 생각되는 약 5개 정도의 participant 가 누구인지 결정하십시오.

**[Step 02]** 참여자(Participants) 을 정의하세요.

예시 :  

참여자명 : Owner
| No | 참여자 속성명 | 데이터형 | 설명 |
|:--------|:--------|:--------|:--------|
| 1| Id | string | 키 값으로 사용되는 유니크한 문자 |
| 2 | Username | string | 성명 |
| 3 | Company | string | 회사명 |
| 4 | Enabled | bool | disabled 인 경우 애플리케이션에서 보이지 않음 |


### Transactions
거래는 블록체인 네트워크에서 발생하는 행위의 기본입니다.  
예를 들어 토지의 소유권 이전이 발생한다면 해당되는 행위의 기록에 어떤 것들이 포함되어야 할지 판단합니다. 본 실습에서는 모든 세부적인 것들을 모두 기록하려 하지 말고 필수적인 것들만 선별해서 정의하도록 하세요. 3개 정도의 transaction을 정의하고 해당 transaction에 필요한 속성들을 정의하여 아래 테이블 형식으로 작성하도록 합니다. 

**[Step 03]** 트랜잭션(Transactions) 을 정의하세요.

예시:  

| No | 트랜잭션명 | 입력값, arguments | 트랜잭션 흐름 및 설명 |
|:--------|:--------|:--------|:--------|
| 1| read | string | 원장 내용을 조회 |
| 2 | write | string | 새로운 구슬을 등록 |
| 3 | delete_marble | string | 구슬 한 개를 삭제 |
| 4 | init_marble | bool | 새로운 구슬 한 개를 생성 |
| 5 | set_owner | bool | 구슬의 소유자를 변경 |

Hyperledger Composer 는 Hyperledger 프로젝트의 하위 프로젝트로서, Fabric 체인코드를 쉽게 개발할 수 있도록 도와주는 모델링 툴입니다.
Hyperledger Composer 를 이용하여 자바스크립트 기반의 코드를 쉽게 개발할 수 있으며 관련 개발 UI툴 또한 지원합니다.  

본 실습의 예시 결과를 Composer 로 개발된 코드를 통해 확인할 수 있습니다. (우리는 오늘 실습에서 Composer 에 대한 학습은 생략)  

IBM 담당자와 함께 코드를 보면서 자신이 모델링한 결과를 비교하는 시간을 가지십시오.  

이상으로 모든 실습을 완료하셨습니다. 수고많으셨습니다! ^ _^ ~~이것이 소확행?~~

### END OF DOCUMENT
***
